{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dell\\\\Downloads\\\\Ecommerce-app-main\\\\Ecommerce-app-main\\\\frontend\\\\src\\\\Screen\\\\CartScreen.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Row, Col, ListGroup, Card, Image, ListGroupItem, Button } from \"react-bootstrap\";\nimport { addToCart, removeFromCart } from \"../redux\";\nimport { useParams, Link, useNavigate } from \"react-router-dom\";\nimport Message from \"../Components/Message\";\nimport AlertShow from \"../Components/AlertShow\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst CartScreen = () => {\n  _s();\n\n  const params = useParams();\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const qty = parseInt(params.qty);\n  const id = params.id;\n  const cart = useSelector(state => state.cart);\n  const userLogin = useSelector(state => state.userLogin);\n  const item = cart.cartItems; //   console.log(item);\n\n  useEffect(() => {\n    if (id && qty) {\n      dispatch(addToCart(id, qty));\n      navigate(`../cart`, {\n        replace: true\n      });\n    }\n  }, [dispatch, id, qty, navigate]); //   console.log(item[0].product)\n\n  const removeProductHandler = productId => {\n    // console.log(productId)\n    dispatch(removeFromCart(productId));\n  };\n\n  const checkout = () => {\n    navigate(`../shippingaddress`, {\n      replace: true\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Row, {\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        md: 8,\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Shopping Cart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this), cart.cartItems.length === 0 ? /*#__PURE__*/_jsxDEV(Message, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(ListGroup, {\n          variant: \"flush\",\n          children: item.map(x => /*#__PURE__*/_jsxDEV(ListGroupItem, {\n            children: /*#__PURE__*/_jsxDEV(Row, {\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                md: 3,\n                children: /*#__PURE__*/_jsxDEV(Image, {\n                  src: x.image,\n                  alt: x.name,\n                  fluid: true,\n                  rounded: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 55,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 54,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                md: 3,\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  to: `/product/${x.product}`,\n                  children: x.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 58,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                md: 2,\n                children: [\"$\", x.price]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                md: 2,\n                children: x.qty\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                md: 2,\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  className: \"btn btn-outline-dark btn-sm\",\n                  variant: \"light\",\n                  onClick: () => {\n                    removeProductHandler(x.product);\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fa fa-trash\",\n                    \"aria-hidden\": \"true\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 68,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 63,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 19\n            }, this)\n          }, x.product, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        md: 4,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(ListGroup, {\n            variant: \"flush\",\n            children: [/*#__PURE__*/_jsxDEV(ListGroupItem, {\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                children: [\"subTotal: \", item.reduce((acc, x) => acc + x.qty, 0), \" items\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 21\n              }, this), \"$\", item.reduce((acc, x) => acc + x.qty * x.price, 0).toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              className: \"btn btn-outline-dark\",\n              variant: \"light\",\n              disabled: cart.cartItems.length === 0,\n              onClick: checkout,\n              children: \"Proceed to checkout\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_s(CartScreen, \"iEuEV9NBtEcnrMz7RPw71NzkvhA=\", false, function () {\n  return [useParams, useNavigate, useDispatch, useSelector, useSelector];\n});\n\n_c = CartScreen;\nexport default CartScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartScreen\");","map":{"version":3,"sources":["C:/Users/Dell/Downloads/Ecommerce-app-main/Ecommerce-app-main/frontend/src/Screen/CartScreen.jsx"],"names":["React","useEffect","useDispatch","useSelector","Row","Col","ListGroup","Card","Image","ListGroupItem","Button","addToCart","removeFromCart","useParams","Link","useNavigate","Message","AlertShow","CartScreen","params","navigate","dispatch","qty","parseInt","id","cart","state","userLogin","item","cartItems","replace","removeProductHandler","productId","checkout","length","map","x","image","name","product","price","reduce","acc","toFixed"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SACEC,GADF,EAEEC,GAFF,EAGEC,SAHF,EAIEC,IAJF,EAKEC,KALF,EAMEC,aANF,EAOEC,MAPF,QAQO,iBARP;AASA,SAASC,SAAT,EAAmBC,cAAnB,QAAyC,UAAzC;AACA,SAASC,SAAT,EAAoBC,IAApB,EAA0BC,WAA1B,QAA6C,kBAA7C;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,OAAOC,SAAP,MAAsB,yBAAtB;;;;AACA,MAAMC,UAAU,GAAG,MAAM;AAAA;;AACvB,QAAMC,MAAM,GAAGN,SAAS,EAAxB;AACA,QAAMO,QAAQ,GAAGL,WAAW,EAA5B;AACA,QAAMM,QAAQ,GAAGnB,WAAW,EAA5B;AACA,QAAMoB,GAAG,GAAGC,QAAQ,CAACJ,MAAM,CAACG,GAAR,CAApB;AACA,QAAME,EAAE,GAAGL,MAAM,CAACK,EAAlB;AACA,QAAMC,IAAI,GAAGtB,WAAW,CAAEuB,KAAD,IAAWA,KAAK,CAACD,IAAlB,CAAxB;AACA,QAAME,SAAS,GAAGxB,WAAW,CAAEuB,KAAD,IAAWA,KAAK,CAACC,SAAlB,CAA7B;AACA,QAAMC,IAAI,GAAGH,IAAI,CAACI,SAAlB,CARuB,CASvB;;AACA5B,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIuB,EAAE,IAAIF,GAAV,EAAe;AACbD,MAAAA,QAAQ,CAACV,SAAS,CAACa,EAAD,EAAKF,GAAL,CAAV,CAAR;AACAF,MAAAA,QAAQ,CAAE,SAAF,EAAY;AAAEU,QAAAA,OAAO,EAAE;AAAX,OAAZ,CAAR;AACD;AACF,GALQ,EAKN,CAACT,QAAD,EAAWG,EAAX,EAAeF,GAAf,EAAmBF,QAAnB,CALM,CAAT,CAVuB,CAgBvB;;AAED,QAAMW,oBAAoB,GAAIC,SAAD,IAAa;AACvC;AACAX,IAAAA,QAAQ,CAACT,cAAc,CAACoB,SAAD,CAAf,CAAR;AACF,GAHD;;AAIC,QAAMC,QAAQ,GAAC,MAAI;AAEjBb,IAAAA,QAAQ,CAAE,oBAAF,EAAuB;AAAEU,MAAAA,OAAO,EAAE;AAAX,KAAvB,CAAR;AACD,GAHD;;AAIA,sBACE;AAAA,2BACE,QAAC,GAAD;AAAA,8BACE,QAAC,GAAD;AAAK,QAAA,EAAE,EAAE,CAAT;AAAA,gCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EAEGL,IAAI,CAACI,SAAL,CAAeK,MAAf,KAA0B,CAA1B,gBACC,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA,gBADD,gBAGC,QAAC,SAAD;AAAW,UAAA,OAAO,EAAC,OAAnB;AAAA,oBACGN,IAAI,CAACO,GAAL,CAAUC,CAAD,iBACR,QAAC,aAAD;AAAA,mCACE,QAAC,GAAD;AAAA,sCACE,QAAC,GAAD;AAAK,gBAAA,EAAE,EAAE,CAAT;AAAA,uCACE,QAAC,KAAD;AAAO,kBAAA,GAAG,EAAEA,CAAC,CAACC,KAAd;AAAqB,kBAAA,GAAG,EAAED,CAAC,CAACE,IAA5B;AAAkC,kBAAA,KAAK,MAAvC;AAAwC,kBAAA,OAAO;AAA/C;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBADF,eAIE,QAAC,GAAD;AAAK,gBAAA,EAAE,EAAE,CAAT;AAAA,uCACE,QAAC,IAAD;AAAM,kBAAA,EAAE,EAAG,YAAWF,CAAC,CAACG,OAAQ,EAAhC;AAAA,4BAAoCH,CAAC,CAACE;AAAtC;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBAJF,eAOE,QAAC,GAAD;AAAK,gBAAA,EAAE,EAAE,CAAT;AAAA,gCAAcF,CAAC,CAACI,KAAhB;AAAA;AAAA;AAAA;AAAA;AAAA,sBAPF,eAQE,QAAC,GAAD;AAAK,gBAAA,EAAE,EAAE,CAAT;AAAA,0BAAaJ,CAAC,CAACd;AAAf;AAAA;AAAA;AAAA;AAAA,sBARF,eASE,QAAC,GAAD;AAAK,gBAAA,EAAE,EAAE,CAAT;AAAA,uCACE,QAAC,MAAD;AACE,kBAAA,SAAS,EAAC,6BADZ;AAEE,kBAAA,OAAO,EAAC,OAFV;AAGC,kBAAA,OAAO,EAAE,MAAI;AAACS,oBAAAA,oBAAoB,CAACK,CAAC,CAACG,OAAH,CAApB;AAAgC,mBAH/C;AAAA,yCAKE;AAAG,oBAAA,SAAS,EAAC,aAAb;AAA2B,mCAAY;AAAvC;AAAA;AAAA;AAAA;AAAA;AALF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBATF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF,aAAoBH,CAAC,CAACG,OAAtB;AAAA;AAAA;AAAA;AAAA,kBADD;AADH;AAAA;AAAA;AAAA;AAAA,gBALJ;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAiCE,QAAC,GAAD;AAAK,QAAA,EAAE,EAAE,CAAT;AAAA,+BACI,QAAC,IAAD;AAAA,iCACI,QAAC,SAAD;AAAW,YAAA,OAAO,EAAC,OAAnB;AAAA,oCACI,QAAC,aAAD;AAAA,sCACA;AAAA,yCAAeX,IAAI,CAACa,MAAL,CAAY,CAACC,GAAD,EAAKN,CAAL,KAASM,GAAG,GAACN,CAAC,CAACd,GAA3B,EAA+B,CAA/B,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA,sBADA,OAEEM,IAAI,CAACa,MAAL,CAAY,CAACC,GAAD,EAAKN,CAAL,KAASM,GAAG,GAACN,CAAC,CAACd,GAAF,GAAMc,CAAC,CAACI,KAAjC,EAAuC,CAAvC,EAA0CG,OAA1C,CAAkD,CAAlD,CAFF;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAKI,QAAC,MAAD;AAAQ,cAAA,SAAS,EAAC,sBAAlB;AAAyC,cAAA,OAAO,EAAC,OAAjD;AAAyD,cAAA,QAAQ,EAAElB,IAAI,CAACI,SAAL,CAAeK,MAAf,KAA0B,CAA7F;AAAgG,cAAA,OAAO,EAAED,QAAzG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBALJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cAjCF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF,mBADF;AAiDD,CA3ED;;GAAMf,U;UACWL,S,EACEE,W,EACAb,W,EAGJC,W,EACKA,W;;;KAPde,U;AA6EN,eAAeA,UAAf","sourcesContent":["import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  Row,\n  Col,\n  ListGroup,\n  Card,\n  Image,\n  ListGroupItem,\n  Button,\n} from \"react-bootstrap\";\nimport { addToCart,removeFromCart } from \"../redux\";\nimport { useParams, Link, useNavigate } from \"react-router-dom\";\nimport Message from \"../Components/Message\";\nimport AlertShow from \"../Components/AlertShow\";\nconst CartScreen = () => {\n  const params = useParams();\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const qty = parseInt(params.qty);\n  const id = params.id;\n  const cart = useSelector((state) => state.cart);\n  const userLogin = useSelector((state) => state.userLogin);\n  const item = cart.cartItems;\n  //   console.log(item);\n  useEffect(() => {\n    if (id && qty) {\n      dispatch(addToCart(id, qty));\n      navigate(`../cart`, { replace: true });\n    }\n  }, [dispatch, id, qty,navigate]);\n  //   console.log(item[0].product)\n\n const removeProductHandler = (productId)=>{\n    // console.log(productId)\n    dispatch(removeFromCart(productId))\n }\n  const checkout=()=>{\n   \n    navigate(`../shippingaddress`, { replace: true })\n  }\n  return (\n    <>\n      <Row>\n        <Col md={8}>\n          <h1>Shopping Cart</h1>\n          {cart.cartItems.length === 0 ? (\n            <Message/>\n          ) : (\n            <ListGroup variant=\"flush\">\n              {item.map((x) => (\n                <ListGroupItem key={x.product}>\n                  <Row>\n                    <Col md={3}>\n                      <Image src={x.image} alt={x.name} fluid rounded></Image>\n                    </Col>\n                    <Col md={3}>\n                      <Link to={`/product/${x.product}`}>{x.name}</Link>\n                    </Col>\n                    <Col md={2}>${x.price}</Col>\n                    <Col md={2}>{x.qty}</Col>\n                    <Col md={2}>\n                      <Button\n                        className='btn btn-outline-dark btn-sm'\n                        variant=\"light\"\n                       onClick={()=>{removeProductHandler(x.product)}}\n                      >\n                        <i className=\"fa fa-trash\" aria-hidden=\"true\"></i>\n                      </Button>\n                    </Col>\n                  </Row>\n                </ListGroupItem>\n              ))}\n            </ListGroup>\n          )}\n        </Col>\n        <Col md={4}>\n            <Card>\n                <ListGroup variant='flush'>\n                    <ListGroupItem>\n                    <h2>subTotal: {item.reduce((acc,x)=>acc+x.qty,0)} items</h2>\n                    ${item.reduce((acc,x)=>acc+x.qty*x.price,0).toFixed(2)}\n                    </ListGroupItem>\n                    <Button className='btn btn-outline-dark' variant=\"light\" disabled={cart.cartItems.length === 0} onClick={checkout}>Proceed to checkout</Button>\n                </ListGroup>\n            </Card>\n        </Col>\n      </Row>\n    </>\n  );\n};\n\nexport default CartScreen;\n"]},"metadata":{},"sourceType":"module"}